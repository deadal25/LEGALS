<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Required meta tags-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="au theme template">
    <meta name="author" content="Hau Nguyen">
    <meta name="keywords" content="au theme template">

    <!-- Title Page-->
    <title>Tables</title>

    <!-- Fontfaces CSS-->
    <link href="css/font-face.css" rel="stylesheet" media="all">

    <link href="vendor/fontawesome-7.0.1/css/all.min.css" rel="stylesheet" media="all">
    <link href="vendor/mdi-font/css/material-design-iconic-font.min.css" rel="stylesheet" media="all">

    <!-- Bootstrap CSS-->
    <link href="vendor/bootstrap-5.3.8.min.css" rel="stylesheet" media="all">

    <!-- Vendor CSS-->
    <link href="css/aos.css" rel="stylesheet" media="all">
    <link href="vendor/css-hamburgers/hamburgers.min.css" rel="stylesheet" media="all">
    <link href="css/swiper-bundle-11.2.10.min.css" rel="stylesheet" media="all">
    <link href="vendor/perfect-scrollbar/perfect-scrollbar-1.5.6.css" rel="stylesheet" media="all">

    <!-- Main CSS-->
    <link href="css/theme.css" rel="stylesheet" media="all">

    <style>
        /* =============================
   STATUS TANDA TANGAN STYLE
   ============================= */

        #lastUpdate {
            font-size: 14px;
            color: #6c757d;
            margin-bottom: 15px;
            text-align: right;
            font-style: italic;
            letter-spacing: 0.3px;
        }

        /* ======= TABLE ======= */
        #statusDokumen {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            background: #ffffff;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.06);
            transition: all 0.3s ease;
        }

        #statusDokumen th {
            background: linear-gradient(90deg, #191c1f, #696d71);
            color: #fff;
            font-weight: 600;
            text-align: center;
            padding: 12px 10px;
            font-size: 16px;
            text-transform: uppercase;
            letter-spacing: 0.4px;
            border: none;
        }

        #statusDokumen td {
            text-align: center;
            padding: 10px 12px;
            border-bottom: 1px solid #f0f0f0;
            font-size: 18px;
            color: #333;
            vertical-align: middle;
        }

        #statusDokumen tr:last-child td {
            border-bottom: none;
        }

        #statusDokumen tr:hover {
            background-color: #f8fbff;
            transition: background 0.2s ease;
        }

        /* ======= STATUS COLORS ======= */
        .done {
            color: #28a745;
            font-weight: 600;
        }

        .pending {
            color: #f39c12;
            font-weight: 600;
        }

        /* ======= BUTTONS ======= */
        .aksi-cell {
            display: flex;
            flex-direction: column;
            gap: 8px;
            align-items: center;
            justify-content: center;
        }

        .btn {
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 15px;
            padding: 7px 14px;
            color: #fff;
            font-weight: 500;
            min-width: 110px;
            transition: all 0.25s ease;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .btn:hover {
            opacity: 0.9;
            transform: translateY(-1px);
        }

        .btn-email {
            background-color: #1a73e8;
        }

        .btn-wa {
            background-color: #25D366;
        }

        .btn-disabled {
            background-color: #ccc !important;
            cursor: not-allowed;
            color: #666 !important;
            opacity: 0.8;
            box-shadow: none;
        }

        /* ======= RESPONSIVE ======= */
        @media (max-width: 992px) {

            #statusDokumen th,
            #statusDokumen td {
                font-size: 12px;
                padding: 8px;
            }

            .btn {
                min-width: 90px;
                padding: 6px 10px;
            }
        }

        @media (max-width: 576px) {
            #lastUpdate {
                text-align: center;
                font-size: 12px;
            }

            .aksi-cell {
                gap: 4px;
            }
        }

        body.dark-mode {
            background-color: #ffffff !important;
            color: #fffefe !important;
        }

        body.dark-mode .card,
        body.dark-mode .header-desktop {
            background-color: #6d6a6a !important;
            color: #ffffff !important;
        }

        body.dark-mode .main-content {
            background-color: #8f8989 !important;
            color: #ffffff !important;
        }

        body.dark-mode a {
            color: #000000 !important;
        }

        body.dark-mode .account-dropdown {
            background-color: #6d6a6a !important;
        }

        body.dark-mode .account-dropdown__item a {
            color: #ffffff !important;
        }

        .switch {
            position: relative;
            display: inline-block;
            width: 90px;
            height: 32px;
        }

        .switch-input {
            display: none;
        }

        .switch-label {
            display: block;
            cursor: pointer;
            border: 2px solid #ccc;
            border-radius: 50px;
            background-color: #f5f5f5;
            text-align: center;
            font-size: 14px;
            line-height: 28px;
            color: #333;
            transition: background-color 0.3s, color 0.3s;
            box-shadow: inset 0 0 4px rgba(0, 0, 0, 0.1);
        }

        .navbar__list li a.active {
            background-color: #e8f0fe;
            /* warna terang seperti highlight */
            color: #1a73e8 !important;
            /* biru agar selaras */
            border-radius: 8px;
            font-weight: 600;
        }

        /* Mode gelap */
        body.dark-mode .navbar__list li a.active {
            background-color: #6d6a6a;
            color: #0a0a0a !important;
            border-radius: 8px;
        }

        /* Perbaiki agar active juga muncul di menu mobile */
        .navbar-mobile__list li a.active {
            background-color: #e8f0fe !important;
            color: #1a73e8 !important;
            border-radius: 8px !important;
            font-weight: 600;
        }

        /* Versi dark mode */
        body.dark-mode .navbar-mobile__list li a.active {
            background-color: #6d6a6a !important;
            color: #0a0a0a !important;
        }

        /* Overlay */
        .custom-modal {
            display: none;
            position: fixed;
            margin-top: 50px;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;

            justify-content: center;
            align-items: center;
            z-index: 9999;
            padding: 20px;
            /* agar modal bisa scroll di layar kecil */
        }

        /* Card Modal */
        .custom-modal-content {
            background: #fff;
            /* margin-top: 50px; */
            width: 650px;
            /* LEBARKAN */
            max-width: 95%;
            max-height: 90vh;
            /* BATASI TINGGI */
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.25);
            animation: fadeIn 0.25s ease;

            overflow-y: auto;
            /* AGAR BISA DI-SCROLL */
        }

        /* Title */
        .custom-modal-content h3 {
            margin-bottom: 10px;
            font-weight: 1000;
        }

        /* Input spacing */
        .custom-modal-content label {
            margin-top: 1px;
            font-weight: 500;
        }

        .custom-modal-content input {
            margin-bottom: -2px;
        }

        /* Animation */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: scale(0.95);
            }

            to {
                opacity: 1;
                transform: scale(1);
            }
        }
    /* Area yang akan diblur (wrapper utama halaman) */
    .blur-bg {
        filter: blur(6px);
        transition: 0.3s ease;
        pointer-events: none; /* Biar tidak bisa diklik */
    }
    #editForm label {
        color: black !important;
        font-weight: 600;
    }
    
</style>





</head>

<body>
    <div class="page-wrapper">
        <!-- HEADER MOBILE-->
        <header class="header-mobile d-block d-lg-none">
            <div class="header-mobile__bar">
                <div class="container-fluid">
                    <div class="header-mobile-inner">
                        <a class="logo" href="index.html">
                            <img src="images/icon/logo.png" alt="CoolAdmin" />
                        </a>
                        <button class="hamburger hamburger--slider" type="button">
                            <span class="hamburger-box">
                                <span class="hamburger-inner"></span>
                            </span>
                        </button>
                    </div>
                </div>
            </div>
            <nav class="navbar-mobile">
                <div class="container-fluid">
                    <ul class="navbar-mobile__list list-unstyled">
                        <!-- <li class="has-sub">
                            <a class="js-arrow" href="#">
                                <i class="fas fa-tachometer-alt"></i>Dashboard</a>
                            <ul class="navbar-mobile-sub__list list-unstyled js-sub-list">
                                <li>
                                    <a href="index.html">Dashboard 1</a>
                                </li>
                                <li>
                                    <a href="index2.html">Dashboard 2</a>
                                </li>
                                <li>
                                    <a href="index3.html">Dashboard 3</a>
                                </li>
                                <li>
                                    <a href="index4.html">Dashboard 4</a>
                                </li>
                            </ul>
                        </li> -->
                        <li>
                            <a href="index.html">
                                <i class="fas fa-tachometer-alt "></i>Dashboard</a>
                        </li>
                        <!-- <li>
                            <a href="chart.html">
                                <i class="fas fa-chart-bar"></i>Charts</a>
                        </li> -->
                        <li>
                            <a href="table.html">
                                <i class="fas fa-table"></i>Tables</a>
                        </li>
                        <li>
                            <a href="form.html">
                                <i class="far fa-check-square"></i>Forms</a>
                        </li>
                        <li>
                            <a href="calendar.html">
                                <i class="fas fa-calendar-alt"></i>Calendar</a>
                        </li>
                        <li>
                            <a href="map.html">
                                <i class="fas fa-map-marker-alt"></i>Maps</a>
                        </li>
                        <li class="has-sub">
                            <a class="js-arrow" href="#">
                                <i class="fas fa-desktop"></i>Account</a>
                            <ul class="navbar-mobile-sub__list list-unstyled js-sub-list">

                                <li id="menuAccountMobile">
                                    <a href="register.html">
                                        <i class="fas fa-user"></i> Register
                                    </a>
                                </li>
                                <!-- <li id="menuAccountMobile1">
                                    <a href="forget-pass.html">
                                        <i class="fas fa-unlock-alt"></i> Forget Password
                                    </a>
                                </li> -->
                                <li id="menuAccountMobile1">
                                    <a href="users.html" >
                                        <i class="fas fa-user-edit"></i> Users
                                    </a>
                                </li>
                                <li id="menuAccountMobile2">
                                    <a href="approval.html" class="active">
                                        <i class="fas fa-tasks"></i> Approval
                                    </a>
                                </li>
                                <li>
                                    <a href="profile.html">
                                        <i class="far fa-id-card"></i> Profil Akun
                                    </a>
                                </li>
                                <li>
                                    <a href="login.html">
                                        <i class="fas fa-sign-in-alt"></i> Logout
                                    </a>
                                </li>
                            </ul>

                        </li>
                        <!-- <li class="has-sub">
                            <a class="js-arrow" href="#">
                                <i class="fas fa-desktop"></i>UI Elements</a>
                            <ul class="navbar-mobile-sub__list list-unstyled js-sub-list">
                                <li>
                                    <a href="button.html">Button</a>
                                </li>
                                <li>
                                    <a href="badge.html">Badges</a>
                                </li>
                                <li>
                                    <a href="tab.html">Tabs</a>
                                </li>
                                <li>
                                    <a href="card.html">Cards</a>
                                </li>
                                <li>
                                    <a href="alert.html">Alerts</a>
                                </li>
                                <li>
                                    <a href="progress-bar.html">Progress Bars</a>
                                </li>
                                <li>
                                    <a href="modal.html">Modals</a>
                                </li>
                                <li>
                                    <a href="switch.html">Switchs</a>
                                </li>
                                <li>
                                    <a href="grid.html">Grids</a>
                                </li>
                                <li>
                                    <a href="fontawesome.html">Fontawesome Icon</a>
                                </li>
                                <li>
                                    <a href="typo.html">Typography</a>
                                </li>
                            </ul>
                        </li> -->
                    </ul>
                </div>
            </nav>
        </header>
        <!-- END HEADER MOBILE-->

        <!-- MENU SIDEBAR-->
        <aside class="menu-sidebar d-none d-lg-block">
            <div class="logo">
                <a href="#">
                    <img src="images/icon/logo.png" alt="Cool Admin" />
                </a>
            </div>
            <div class="menu-sidebar__content js-scrollbar1">
                <nav class="navbar-sidebar">
                    <ul class="list-unstyled navbar__list">
                        <!-- <li class="active has-sub">
                            <a class="js-arrow" href="#">
                                <i href="index.html" class="fas fa-tachometer-alt"></i>Dashboard</a>
                            <ul class="list-unstyled navbar__sub-list js-sub-list">
                                <li>
                                    <a href="index.html">Dashboard 1</a>
                                </li>
                                <li>
                                    <a href="index2.html">Dashboard 2</a>
                                </li>
                                <li>
                                    <a href="index3.html">Dashboard 3</a>
                                </li>
                                <li>
                                    <a href="index4.html">Dashboard 4</a>
                                </li>
                            </ul>
                        </li> -->
                        <li>
                            <a href="index.html">
                                <i class="fas fa-tachometer-alt"></i>Dashboard</a>
                        </li>
                        <!-- <li>
                            <a href="chart.html">
                                <i class="fas fa-chart-bar"></i>Charts</a>
                        </li> -->
                        <li>
                            <a href="table.html">
                                <i class="fas fa-table"></i>Tables</a>
                        </li>
                        <li>
                            <a href="form.html">
                                <i class="far fa-check-square"></i>Forms</a>
                        </li>
                        <li>
                            <a href="calendar.html">
                                <i class="fas fa-calendar-alt"></i>Calendar</a>
                        </li>
                        <li>
                            <a href="map.html">
                                <i class="fas fa-map-marker-alt"></i>Maps</a>
                        </li>
                        <li class="has-sub">
                            <a class="js-arrow" href="#">
                                <i class="fas fa-desktop"></i>Account</a>
                            <ul class="list-unstyled navbar__sub-list js-sub-list">

                                <li id="menuAccountDesktop">
                                    <a href="register.html">
                                        <i class="fas fa-user"></i> Register
                                    </a>
                                </li>
                                <!-- <li id="menuAccountDesktop1">
                                    <a href="forget-pass.html">
                                        <i class="fas fa-unlock-alt"></i> Forget Password
                                    </a>
                                </li> -->
                                 <li id="menuAccountDesktop1">
                                    <a href="users.html" >
                                        <i class="fas fa-user-edit"></i> Users
                                    </a>
                                </li>
                                <li id="menuAccountDesktop2">
                                    <a href="approval.html" class="active">
                                        <i class="fas fa-tasks"></i> Approval
                                    </a>
                                </li>
                                <li>
                                    <a href="profile.html">
                                        <i class="far fa-id-card"></i> Profil Akun
                                    </a>
                                </li>
                                <li>
                                    <a href="login.html">
                                        <i class="fas fa-sign-in-alt"></i> Logout
                                    </a>
                                </li>
                            </ul>

                        </li>
                        <!-- <li class="has-sub">
                            <a class="js-arrow" href="#">
                                <i class="fas fa-desktop"></i>UI Elements</a>
                            <ul class="list-unstyled navbar__sub-list js-sub-list">
                                <li>
                                    <a href="button.html">Button</a>
                                </li>
                                <li>
                                    <a href="badge.html">Badges</a>
                                </li>
                                <li>
                                    <a href="tab.html">Tabs</a>
                                </li>
                                <li>
                                    <a href="card.html">Cards</a>
                                </li>
                                <li>
                                    <a href="alert.html">Alerts</a>
                                </li>
                                <li>
                                    <a href="progress-bar.html">Progress Bars</a>
                                </li>
                                <li>
                                    <a href="modal.html">Modals</a>
                                </li>
                                <li>
                                    <a href="switch.html">Switchs</a>
                                </li>
                                <li>
                                    <a href="grid.html">Grids</a>
                                </li>
                                <li>
                                    <a href="fontawesome.html">Fontawesome Icon</a>
                                </li>
                                <li>
                                    <a href="typo.html">Typography</a>
                                </li>
                            </ul>
                        </li> -->
                    </ul>
                </nav>
            </div>
        </aside>
        <!-- END MENU SIDEBAR-->

        <!-- PAGE CONTAINER-->
        <div class="page-container">
            <!-- HEADER DESKTOP-->
            <header class="header-desktop">
                <div class="section__content section__content--p30">
                    <div class="container-fluid">
                        <div class="header-wrap">
                            <form class="form-header" onsubmit="handleSearch(event)">
                                <input id="searchInput" class="au-input au-input--xl" type="text" name="search"
                                    placeholder="Cari berdasarkan Username..." />
                                <button class="au-btn--submit" type="submit">
                                    <i class="zmdi zmdi-search"></i>
                                </button>
                            </form>

                            <div class="header-button">
                                <div class="noti-wrap">
                                    <div class="noti__item js-item-menu">
                                        <i class="zmdi zmdi-comment-more"></i>
                                        <span class="quantity">1</span>
                                        <div class="mess-dropdown js-dropdown">
                                            <div class="mess__title">
                                                <p>You have 2 news message</p>
                                            </div>
                                            <div class="mess__item">
                                                <div class="image img-cir img-40">
                                                    <img src="images/icon/avatar-06.jpg" alt="Michelle Moreno" />
                                                </div>
                                                <div class="content">
                                                    <h6>Michelle Moreno</h6>
                                                    <p>Have sent a photo</p>
                                                    <span class="time">3 min ago</span>
                                                </div>
                                            </div>
                                            <div class="mess__item">
                                                <div class="image img-cir img-40">
                                                    <img src="images/icon/avatar-04.jpg" alt="Diane Myers" />
                                                </div>
                                                <div class="content">
                                                    <h6>Diane Myers</h6>
                                                    <p>You are now connected on message</p>
                                                    <span class="time">Yesterday</span>
                                                </div>
                                            </div>
                                            <div class="mess__footer">
                                                <a href="#">View all messages</a>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="noti__item js-item-menu">
    <i class="zmdi zmdi-email"></i>

    <!-- üî• jumlah notif -->
    <span class="quantity" id="notifCount">0</span>

    <div class="email-dropdown js-dropdown">

        <div class="email__title">
            <p id="notifTitle">You have 0 New Notifications</p>
        </div>

        <!-- üî• tempat list notif secara dinamis -->
        <div id="notifList"></div>

        <div class="email__footer">
            <a href="#">See all notifications</a>
        </div>
    </div>
</div>

                                    <div class="noti__item js-item-menu">
                                        <i class="zmdi zmdi-notifications"></i>
                                        <span class="quantity">3</span>
                                        <div class="notifi-dropdown js-dropdown">
                                            <div class="notifi__title">
                                                <p>You have 3 Notifications</p>
                                            </div>
                                            <div class="notifi__item">
                                                <div class="bg-c1 img-cir img-40">
                                                    <i class="zmdi zmdi-email-open"></i>
                                                </div>
                                                <div class="content">
                                                    <p>You got a email notification</p>
                                                    <span class="date">January 15, 2025 14:30</span>
                                                </div>
                                            </div>
                                            <div class="notifi__item">
                                                <div class="bg-c2 img-cir img-40">
                                                    <i class="zmdi zmdi-account-box"></i>
                                                </div>
                                                <div class="content">
                                                    <p>Your account has been blocked</p>
                                                    <span class="date">January 15, 2025 14:30</span>
                                                </div>
                                            </div>
                                            <div class="notifi__item">
                                                <div class="bg-c3 img-cir img-40">
                                                    <i class="zmdi zmdi-file-text"></i>
                                                </div>
                                                <div class="content">
                                                    <p>You got a new file</p>
                                                    <span class="date">January 15, 2025 14:30</span>
                                                </div>
                                            </div>
                                            <div class="notifi__footer">
                                                <a href="#">All notifications</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="account-wrap">
                                    <div class="account-item clearfix js-item-menu">
                                        <div class="image">
                                            <img id="userAvatar" src="images/icon/avatar-01.jpg" alt="User Avatar" />
                                        </div>
                                        <div class="content">
                                            <a class="js-acc-btn" id="userName" href="#">User</a>
                                        </div>
                                        <div class="account-dropdown js-dropdown">
                                            <div class="info clearfix">
                                                <div class="image">
                                                    <a href="#">
                                                        <img id="dropdownAvatar" src="images/icon/avatar-01.jpg"
                                                            alt="User Avatar" />
                                                    </a>
                                                </div>
                                                <div class="content" style="height: 5px; margin-top: -11px;">
                                                    <h5 class="name">
                                                        <a href="#" id="dropdownName">User</a>
                                                    </h5>
                                                    <span class="email" id="dropdownEmail">user@example.com</span><br>
                                                    <small id="dropdownCabang" style="color:#777;">Cabang: -</small>
                                                </div>
                                            </div>
                                            <div class="account-dropdown__body">
                                                <div class="account-dropdown__item">
                                                    <a href="profile.html"><i class="zmdi zmdi-account"></i>Account</a>
                                                </div>
                                                <!-- <div class="account-dropdown__item">
                                                    <a href="#"><i class="zmdi zmdi-settings"></i>Setting</a>
                                                </div> -->
                                                <div class="account-dropdown__item">
                                                    <a href="#">
                                                        <i class="zmdi zmdi-settings"></i>Tema

                                                        <!-- <span id="themeLabel">Terang</span> -->
                                                        <label class="switch switch-text switch-secondary switch-pill"
                                                            style="margin-left: 5px; width: 100px;">
                                                            <input id="themeToggle" type="checkbox"
                                                                class="switch-input">
                                                            <span data-on="Gelap" data-off="Terang"
                                                                class="switch-label"></span>
                                                            <span class="switch-handle"></span>
                                                        </label>
                                                    </a>
                                                </div>



                                                <!-- <div class="account-dropdown__item">
                                                    <a href="#"><i class="zmdi zmdi-money-box"></i>Billing</a>
                                                </div> -->
                                            </div>
                                            <div class="account-dropdown__footer"
                                                style="background-color: #db3232; margin-top: -18px;">
                                                <a href="#" id="logoutBtn">
                                                    <i class="zmdi zmdi-power"></i>Logout</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </header>
            <!-- END HEADER DESKTOP-->

            <!-- MAIN CONTENT-->
            <div class="main-content">
                <div class="section__content section__content--p30">
                    <div class="container-fluid">
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="table-responsive table--no-card m-b-30">

                                    <div id="lastUpdate">Terakhir diperbarui: -</div>

<div id="pageContent">
    <table class="table table-borderless table-striped table-earning" id="statusDokumen">
        <thead>
            <tr>
                <th>Nama Cabang</th>
                <th>Dokumen 1</th>
                <th>Dokumen 2</th>
                <th>Dokumen 3</th>
                <th>Dokumen 4</th>
                <th>Dokumen 5</th>
                <th>Dokumen 6</th>
                <th>Status</th>
                <th>Aksi</th>
            </tr>
        </thead>
        <tbody id="statusBody">
            <tr><td colspan="9">Memuat data...</td></tr>
        </tbody>
    </table>
</div>

                                </div>
                                



                            </div>
                            <!-- <div class="row">
                                <div class="col-md-12">
                                    <div class="copyright">
                                        <p>Copyright ¬© 2025 Alqadri. All rights reserved. Template by <a
                                                href="https://alqadri.com" rel="nofollow" target="_blank">Colorlib</a>.
                                        </p>
                                    </div>
                                </div>
                            </div> -->
                        </div>
                    </div>
                </div>
            </div>

        </div>

        <!-- Jquery JS-->
        <script src="js/vanilla-utils.js"></script>
        <!-- Bootstrap JS-->
        <script src="vendor/bootstrap-5.3.8.bundle.min.js"></script>
        <!-- Vendor JS       -->
        <script src="vendor/perfect-scrollbar/perfect-scrollbar-1.5.6.min.js"></script>
        <script src="vendor/chartjs/chart.umd.js-4.5.0.min.js"></script>

       <script>
/* =====================================================
   VALIDASI LOGIN & ROLE
   ===================================================== */
document.addEventListener("DOMContentLoaded", function () {
    const user = JSON.parse(localStorage.getItem("user"));

    // Jika belum login
    if (!user) {
        window.location.href = "login.html";
        return;
    }

    // Jika bukan admin ‚Üí blok akses
    if ((user.role || "").toLowerCase() !== "admin") {
        alert("‚ùå Anda tidak memiliki akses ke halaman ini!");
        window.location.href = "index.html";
        return;
    }

    /* =====================================================
       TAMPILKAN INFO USER
       ===================================================== */
    document.getElementById("userName").textContent = user.namaLengkap || "User";
    document.getElementById("dropdownName").textContent = user.namaLengkap || "User";
    document.getElementById("dropdownEmail").textContent = user.email || "-";
    document.getElementById("dropdownCabang").textContent = user.role || "-";

    if (user.avatarUrl) {
        document.getElementById("userAvatar").src = user.avatarUrl;
        document.getElementById("dropdownAvatar").src = user.avatarUrl;
    }

    /* =====================================================
       SEMBUNYIKAN MENU ACCOUNT UNTUK NON ADMIN
       (Sebetulnya redundant karena di atas sudah diblok)
       ===================================================== */
    if ((user.role || "").toLowerCase() !== "admin") {
                const accMobile = document.getElementById("menuAccountMobile");
                const accMobile1 = document.getElementById("menuAccountMobile1");
                const accMobile2 = document.getElementById("menuAccountMobile2");
                const accDesktop = document.getElementById("menuAccountDesktop");
                const accDesktop1 = document.getElementById("menuAccountDesktop1");
                const accDesktop2 = document.getElementById("menuAccountDesktop2");

                if (accMobile) accMobile.style.display = "none";
                if (accMobile1) accMobile1.style.display = "none";
                if (accMobile2) accMobile2.style.display = "none";
                if (accDesktop) accDesktop.style.display = "none";
                if (accDesktop1) accDesktop1.style.display = "none";
                if (accDesktop2) accDesktop2.style.display = "none";
                document.getElementById("kontrakpercabang").style.display = "none";

            }

    /* =====================================================
       LOGOUT
       ===================================================== */
    document.getElementById("logoutBtn").addEventListener("click", function (e) {
        e.preventDefault();
        localStorage.removeItem("user");
        window.location.href = "login.html";
    });

    console.log("User loaded:", user);
});
</script>



<!-- =====================================================
     LOAD STATUS DOKUMEN
     ===================================================== -->
<script>
const scriptURL = "https://script.google.com/macros/s/AKfycbwyutAXOuSEfy1yItsWsWNCPBzOqyI-lktXPUdizX3H05Bj-syHkbrUIIbWWPGvXDBI8Q/exec";

async function loadStatusDokumen() {
    try {
        const res = await fetch(scriptURL + "?mode=getStatusDokumen");
        const data = await res.json();
        const tbody = document.getElementById("statusBody");

        tbody.innerHTML = "";

        data.forEach(row => {

    // ‚ùå Jika dokumen 6 kosong, skip / tidak ditampilkan
    if (!row.dok6 || row.dok6.trim() === "") return;

    // ‚úÖ Jika memiliki dokumen 6, tampilkan
    tbody.innerHTML += `
        <tr>
            <td>${row.role}</td>
            <td>${row.dok1 ? `<a href="${row.dok1}" target="_blank">Lihat</a>` : "-"}</td>
            <td>${row.dok2 ? `<a href="${row.dok2}" target="_blank">Lihat</a>` : "-"}</td>
            <td>${row.dok3 ? `<a href="${row.dok3}" target="_blank">Lihat</a>` : "-"}</td>
            <td>${row.dok4 ? `<a href="${row.dok4}" target="_blank">Lihat</a>` : "-"}</td>
            <td>${row.dok5 ? `<a href="${row.dok5}" target="_blank">Lihat</a>` : "-"}</td>
            <td>${row.dok6 ? `<a href="${row.dok6}" target="_blank">Lihat</a>` : "-"}</td>
            <td><b>${row.status}</b></td>
            <td>
                <button onclick="updateStatus('${row.email}', 'DITERIMA')" class="btn btn-success btn-sm">Approve</button>
                <button onclick="updateStatus('${row.email}', 'DITOLAK')" class="btn btn-danger btn-sm">Tolak</button>
            </td>
        </tr>
    `;
});


        document.getElementById("lastUpdate").innerText =
            "Terakhir diperbarui: " + new Date().toLocaleString();

    } catch (err) {
        console.error("Error load data:", err);
    }
}


/* =====================================================
   UPDATE STATUS (POST)
   ===================================================== */
async function updateStatus(email, statusBaru) {
    if (!confirm("Ubah status menjadi " + statusBaru + "?")) return;

    const form = new FormData();
    form.append("action", "updateStatusDokumen");
    form.append("email", email);
    form.append("status", statusBaru);

    try {
        const res = await fetch(scriptURL, { method: "POST", body: form });
        const result = await res.text();
        alert(result);

        // Update langsung di tabel
        const rows = document.querySelectorAll("#statusBody tr");
        rows.forEach(tr => {
            const approveBtn = tr.querySelector(".btn-success");
            if (approveBtn && approveBtn.getAttribute("onclick").includes(email)) {
                tr.querySelector("td:nth-child(8)").innerHTML = `<b>${statusBaru}</b>`;
            }
        });

    } catch (err) {
        alert("Gagal update status!");
    }
}

loadStatusDokumen();


/* =====================================================
   TOAST MESSAGE
   ===================================================== */
function showMessage(msg, type = "info") {
    const colors = {
        success: "#4CAF50",
        error: "#f44336",
        warning: "#ff9800",
        info: "#2196F3"
    };

    const div = document.createElement("div");
    div.textContent = msg;
    div.style.position = "fixed";
    div.style.bottom = "20px";
    div.style.right = "20px";
    div.style.background = colors[type];
    div.style.color = "white";
    div.style.padding = "10px 15px";
    div.style.borderRadius = "8px";
    div.style.boxShadow = "0 3px 8px rgba(0,0,0,0.3)";
    div.style.zIndex = "9999";
    div.style.transition = "opacity 0.3s ease";

    document.body.appendChild(div);

    setTimeout(() => {
        div.style.opacity = "0";
        setTimeout(() => div.remove(), 300);
    }, 2000);
}
</script>



<!-- =====================================================
     THEME MODE
     ===================================================== -->
<script>
document.addEventListener("DOMContentLoaded", function () {
    const themeToggle = document.getElementById("themeToggle");
    const currentTheme = localStorage.getItem("theme") || "light";

    // Set tema awal
    document.body.classList.toggle("dark-mode", currentTheme === "dark");
    themeToggle.checked = currentTheme === "dark";

    // Ubah tema
    themeToggle.addEventListener("change", function () {
        if (themeToggle.checked) {
            document.body.classList.add("dark-mode");
            localStorage.setItem("theme", "dark");
        } else {
            document.body.classList.remove("dark-mode");
            localStorage.setItem("theme", "light");
        }
    });
});
</script>




        <!-- Main JS-->
        <script src="js/bootstrap5-init.js"></script>
        <script src="js/main-vanilla.js"></script>
        <script src="js/swiper-bundle-11.2.10.min.js"></script>
        <script src="js/aos.js"></script>
        <script src="js/modern-plugins.js"></script>


</body>

</html>
<!-- end document-->